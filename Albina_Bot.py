import apiai
import json
import discord
import fileinput
from discord.ext import commands
from discord.ext.commands import Bot
from random import choice as cc
import os
quoters = [ '–ù–µ–≥—Ä–∞–º–æ—Ç–Ω—ã–º–∏ –ª—é–¥—å–º–∏ 21 –≤–µ–∫–∞ –±—É–¥—É—Ç –Ω–µ —Ç–µ, –∫—Ç–æ –Ω–µ —É–º–µ–µ—Ç —á–∏—Ç–∞—Ç—å –∏ –ø–∏—Å–∞—Ç—å, –∞ —Ç–µ, –∫—Ç–æ –Ω–µ —É–º–µ–µ—Ç —É—á–∏—Ç—å—Å—è –∏ –ø–µ—Ä–µ—É—á–∏–≤–∞—Ç—å—Å—è. *–ê–ª–≤–∏–Ω –¢–æ—Ñ—Ñ–ª–µ—Ä*',
'–ù–µ–ª—å–∑—è –Ω–∞—É—á–∏—Ç—å—Å—è —É —Ç–æ–≥–æ, –∫—Ç–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ —Å —Ç–æ–±–æ–π —Å–æ–≥–ª–∞—à–∞–µ—Ç—Å—è. –î–∞–¥–ª–∏ –§–∏–ª–¥ –ú–∞–ª–æ—É–Ω',
'–ò–¥–∏ –ø–æ –∂–∏–∑–Ω–∏ —Ç–∞–∫, –±—É–¥—Ç–æ –≤–ø–µ—Ä–µ–¥–∏ –≤—Å–µ–≥–¥–∞ –µ—Å—Ç—å —á–µ–º—É –Ω–∞—É—á–∏—Ç—å—Å—è –∏ —Ç—ã —Ç–æ—á–Ω–æ —ç—Ç–æ —Å–º–æ–∂–µ—à—å —Å–¥–µ–ª–∞—Ç—å. *–í–µ—Ä–Ω–æ–Ω –ì–æ–≤–∞—Ä–¥*',
'–†–∞–∑–≤–∏–≤–∞–π—Ç–µ —Å—Ç—Ä–∞—Å—Ç—å –∫ –æ–±—É—á–µ–Ω–∏—é. –ï—Å–ª–∏ —É –≤–∞—Å –ø–æ–ª—É—á–∏—Ç—Å—è, —Ç–æ –≤—ã –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç–µ —Ä–∞—Å—Ç–∏. *–≠–Ω—Ç–æ–Ω–∏ –ñ–¥. –î–∏–ê–Ω–∂–µ–ª–æ*',
'–ú—ã —É—á–∏–º—Å—è, –∫–æ–≥–¥–∞ –º—ã —á—Ç–æ-—Ç–æ –¥–µ–ª–∞–µ–º. *–î–∂–æ—Ä–¥–∂ –•–µ—Ä–±–µ—Ä—Ç*',
'–ó–∞–ø–æ–ª–Ω–∏—Ç—å —Å–≤–æ–π —Ä–∞–∑—É–º –º–∏–ª–ª–∏–æ–Ω–æ–≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–∫—Ç–æ–≤, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–∏—á–µ–º—É –Ω–µ –Ω–∞—É—á–∏—Ç—å—Å—è –≤–ø–æ–ª–Ω–µ –≤–æ–∑–º–æ–∂–Ω–æ.*–ê–ª–µ–∫ –ë–æ—Ä–Ω.*']
members = ['–ê–±—Ä–∞–º–æ–≤–∞',
'–ê–≤—Ö–∞–¥–µ–µ–≤',
'–ê–ª—Ç—É–Ω–∏–Ω',
'–ê—Ö–º–µ—Ç–æ–≤–∞',
'–ë–µ–ª–æ–≤',
'–ë–∏–∫—Å–æ–Ω',
'–ê–∫—à–∞–µ–≤',
'–ì–∞–ª–∏–∞—Å–∫–∞—Ä–æ–≤',
'–ì—Ä–∏–≥–æ—Ä—å–µ–≤',
'–ñ—É—Ä–∞–≤–ª–µ–≤–∞',
'–û–±–º–æ–ª–æ–≤–∞',
'–ú–æ—Ä–æ–∑–æ–≤–∞',
'–ü–∞—Ä—Ñ–∏—à–∏–Ω–∞',
'–Ø—à–∏–Ω',
'–Ø—Ä—Ü–µ–≤–∞',
'–°–∞–≤–∏–Ω–æ–≤–∞',
'–û—Å–º–∞–Ω–æ–≤–∞',
'–ú–∞—Å–ª–æ–≤',
'–ë–∏–∫—Å–æ–Ω',
'–°–ø–∏—Ä–∏–Ω–∞',
'–ò–¥—Ä–∏—Å–æ–≤',
'–ö–∞—é–º–æ–≤',
'–•–∞–¥–∏—É–ª–ª–∏–Ω',
'–ú–æ–ª—á–∞–Ω–æ–≤',
]
Bot = commands.Bot(command_prefix='!')
@Bot.command(text_commands = True)
async def hello(ctx):
    author = ctx.message.author
    await ctx.send(f"–ù—É –ø—Ä–∏–≤–µ—Ç, {author.mention}. –•–∞-—Ö–∞-—Ö–∞-—Ö–∞-—Ö–∞")
@Bot.command(text_commands = True)
async def random(ctx):
    winner = cc(members)
    quoter = cc(quoters)
    await ctx.send(f"üíéüíéüíé –ù—É —á—Ç–æ –∂–µ!!! –°–µ–≥–æ–¥–Ω—è –Ω–∞ –æ—Ö–æ—Ç—É –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è üòéüòéüòé||{winner}|| üòéüòéüòé. –£–¥–∞—á–∏ –º–æ–π –¥—Ä—É–≥!!!. –¶–∏—Ç–∞—Ç–∫—É —Ç–µ–±–µ –≤ –¥–æ—Ä–æ–≥—É üíéüíéüíé.\n```\n {quoter}```")
@Bot.command(text_commands = True)
async def gn(ctx):
    author = ctx.message.author
    await ctx.send(f"üòäüòäüòä–°–ø–æ–∫–æ–π–Ω–æ–π –Ω–æ—á–∏, —Å–ª–∞–¥–∫–∏—Ö —Å–Ω–æ–≤, {author.mention}. –£–¥–∞—á–∏ –∑–∞–≤—Ç—Ä–∞ üòäüòäüòä")
@Bot.command(text_commands = True)
async def quoter(text_commands = True):
    quoter = cc(quoters)
    await ctx.send(f"```\n {quoter}```")
Bot.run(str(os.environ.get('BOT_TOKEN')))
@Bot.event
    async def on_message(message):
    await ctx.send("–í—ã –º–æ–∂–µ—Ç–µ –Ω–∞–ø–∏—Å–∞—Ç—å –∫–∞–∫–æ–µ –ª–∏–±–æ —Å–æ–æ–±—â–µ–Ω–∏–µ, —á—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –æ–±—â–µ–Ω–∏–µ —Å –±–æ—Ç–æ–º")
    async def send_message(message):
    request = apiai.ApiAI("4a66b62af37a451f9b7c701be99e4d8e").text_request()
    request.lang = 'ru'
    request.session_id = 'session_1'
    request.query = message
    response = json.loads(request.getresponse().read().decode('utf-8'))
    await ctx.send(response['result']['fulfillment']['speech'])
